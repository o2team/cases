jQuery,{doc:window.document,wall:document.querySelector("#J_picWallCanvas"),wallWrap:document.querySelector("#J_picWall"),picArr:["cnt.png","cp.png","flz.png","gl.png","hfz.png","hjl.png","hl.png","hmj.png","hyy.png","lex.png","lf.png","lhm.png","lqn.png","ltt.png","lwl.png","lwt.png","lyx.png","mj.png","pxw.png","wbh.png","wcn.png","wql.png","www.png","xxl.png","ykg.png","yly.png","zhuyt.png","zmh.png","ztz.png","zyt.png","IMG_6587_cnt.png","IMG_6634_cp.png","IMG_6401_flz.png","IMG_6417_gl.png","IMG_6414_hfz.png","IMG_6549_hjl.png","IMG_6490_hl.png","IMG_6494_hl.png","IMG_6380_hmj.png","IMG_6559_hyy.png","IMG_6363_lex.png","IMG_6638_lf.png","IMG_6640_lf.png","IMG_4829_lhm.png","IMG_6405_lhm.png","IMG_6412_lqn.png","IMG_6460_ltt.png","IMG_6360_lwl.png","IMG_6581_lwt.png","IMG_6628_lyx.png","IMG_6604_mj.png","IMG_6615_pxw.png","IMG_6486_wbh.png","IMG_6573_wcn.png","IMG_6576_wcn.png","IMG_6394_wql.png","IMG_6580_www.png","IMG_6515_xxl.png","IMG_6471_ykg.png","IMG_6435_yly.png","IMG_6565_zyt.png","IMG_6569_zmh.png","IMG_6526_ztz.png","IMG_6509_zyt.png"],srcPrefix:"//misc.aotu.io/o2/avatars/",picSize:80,navi:navigator.userAgent.toLowerCase().match(/mobile/),init:function(){var n=this;n.picSize=n.navi?40:80,n.drawPic(),window.addEventListener("resize",function(){n.drawPic()})},drawPic:function(){var i=this,n=[],t=[],e=[],p=i.picArr.length,g=window.document.documentElement.clientWidth,_=i.wallWrap.offsetHeight,l=Math.ceil(g/i.picSize),c=Math.ceil(_/i.picSize),r=l*c,a=Math.ceil(r/p),w=i.wall.getContext("2d");i.wall.style.width=g+"px",i.wall.style.height=_+"px",i.wall.width=g,i.wall.height=_;for(var M=0;M<a;M++){for(var I=0;I<p;I++)n[I]=I;n.sort(function(){return.5-Math.random()});for(var o=0;o<p;o++){var h=n[o];t[p*M+o]=i.picArr[h]}}for(var G=1;G<=c;G++)for(var z=1;z<=l;z++)!function(n,p){var g=(z-1)*c+p-1,_=(z-1)*i.picSize,l=(p-1)*i.picSize;e[g]=new Image,e[g].addEventListener("load",function(){if(e[g].src=i.srcPrefix+t[g],!e[g].complete)return function(){w.drawImage(e[g],_,l,i.picSize,i.picSize)};w.drawImage(e[g],_,l,i.picSize,i.picSize)}())}(0,G)}}.init();