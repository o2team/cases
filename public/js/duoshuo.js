function hookDUOSHUO_tp(){var a=DUOSHUO.templates.post;DUOSHUO.templates.post=function(s,o){var i,e=a(s,o),n=s.post.agent;return i="undefined"!=typeof duoshuo_user_ID&&s.post.author.user_id&&s.post.author.user_id==duoshuo_user_ID?duoshuo_admin_nickname?'<span class="fa">'+duoshuo_admin_nickname+"</span>":'<span class="fa">博主</span>':"",n&&/^Mozilla/.test(n)&&(e=e.replace(/<\/div><p>/,i+showUa(n)+"</div><p>")),e}}function checkMobile(){var a=null!==navigator.userAgent.match(/iPad/i);if(a)return!1;var s=null!=navigator.userAgent.match(/iphone|android|phone|mobile|wap|netfront|x11|java|opera mobi|opera mini|ucweb|windows ce|symbian|symbianos|series|webos|sony|blackberry|dopod|nokia|samsung|palmsource|xda|pieplus|meizu|midp|cldc|motorola|foma|docomo|up.browser|up.link|blazer|helio|hosin|huawei|novarra|coolpad|webos|techfaith|palmsource|alcatel|amoi|ktouch|nexian|ericsson|philips|sagem|wellcom|bunjalloo|maui|smartphone|iemobile|spice|bird|zte-|longcos|pantech|gionee|portalmmm|jig browser|hiptop|benq|haier|^lct|320x320|240x320|176x220/i);return!!s}function showUa(a){$.ua.set(a);var s=$.ua,o="&nbsp;&nbsp;",i='<i class="fa fa-desktop"></i>&nbsp;',e='<i class="fa fa-globe"></i>&nbsp;',n=s.os.name,r=s.browser.name;return checkMobile()&&(o="<br><br>"),n.match(/Android/i)&&(i='<i class="fa fa-android"></i>&nbsp;'),n.match(/linux/i)&&(i='<i class="fa fa-linux"></i>&nbsp;'),n.match(/mac os|ios/i)&&(i='<i class="fa fa-apple"></i>&nbsp;'),"x86_64"==s.os.version&&(s.os.version="x64"),r.match(/chrome|chromium/i)&&(e='<i class="fa fa-chrome"></i>&nbsp;'),r.match(/firefox/i)&&(e='<i class="fa fa-firefox"></i>&nbsp;'),r.match(/opera/i)&&(e='<i class="fa fa-opera"></i>&nbsp;'),r.match(/safari/i)&&(e='<i class="fa fa-safari"></i>&nbsp;'),r.match(/ie/i)&&(e='<i class="fa fa-internet-explorer"></i>&nbsp;'),r.match(/WeChat/i)&&(e='<i class="fa fa-wechat"></i>&nbsp;'),r.match(/QQBrowser/i)&&(e='<i class="fa fa-qq"></i>&nbsp;'),o+'<span class="platform '+s.os.name+'">'+i+s.os.name+" "+s.os.version+"</span>"+o+'<span class="browser '+s.browser.name+'">'+e+s.browser.name+"|"+s.browser.version+"</span>"}"undefined"!=typeof DUOSHUO?hookDUOSHUO_tp():$("#duoshuo-script")[0].onload=hookDUOSHUO_tp;